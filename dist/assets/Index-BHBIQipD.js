import{c as y,d as u,a3 as g,r as _,V as f,U as v,e as n,o as r,g as e,h as s,k as t,j as w,C as d,v as b,f as k,F as C,m as L,E as j,O as V,a5 as I,$ as N}from"./index-sk6FTrC8.js";import{C as B}from"./car-CH83aHsN.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=y("SearchIcon",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),S={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},T={class:"sm:flex sm:items-center"},q={class:"sm:flex-auto"},D={class:"text-2xl font-semibold text-gray-900"},F={class:"mt-2 text-sm text-gray-700"},M={class:"mt-6 flex justify-between items-center"},U={class:"relative max-w-sm w-full"},H={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},O=["placeholder"],R={class:"mt-8 flex flex-col"},$={class:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8"},z={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},A={class:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg"},G={class:"min-w-full divide-y divide-gray-300"},J={class:"bg-gray-50"},K={scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6"},P={scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"},Q={scope:"col",class:"relative py-3.5 pl-3 pr-4 sm:pr-6"},W={class:"sr-only"},X={class:"divide-y divide-gray-200 bg-white"},Y={key:0},Z={colspan:"3",class:"px-6 py-4 text-center text-sm text-gray-500"},ee={key:1},te={colspan:"3",class:"px-6 py-4 text-center text-sm text-gray-500"},se={class:"whitespace-nowrap py-4 pl-4 pr-3 sm:pl-6"},oe={class:"flex items-center"},ae={class:"h-10 w-10 flex-shrink-0"},ie=["src"],le={key:1,class:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center"},ne={class:"ml-4"},re={class:"font-medium text-gray-900"},ce={class:"text-gray-500"},de={class:"whitespace-nowrap px-3 py-4 text-sm text-gray-500"},me={class:"inline-flex rounded-md bg-gray-100 px-2 py-1 text-xs font-medium text-gray-600 ring-1 ring-inset ring-gray-500/10"},_e={class:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6"},ye=u({__name:"Index",setup(he){const{t:a}=g(),m=_([]),h=_(!0),c=_("");f(async()=>{await x()});async function x(){try{const{data:l,error:i}=await v.from("cars").select("*").order("created_at",{ascending:!1});if(i)throw i;m.value=l||[]}catch(l){console.error("Error fetching cars:",l)}finally{h.value=!1}}const p=()=>{if(!c.value)return m.value;const l=c.value.toLowerCase();return m.value.filter(i=>i.make?.toLowerCase().includes(l)||i.model.toLowerCase().includes(l)||i.license_plate.toLowerCase().includes(l))};return(l,i)=>(r(),n("div",S,[e("div",T,[e("div",q,[e("h1",D,s(t(a)("admin.history.title")),1),e("p",F,s(t(a)("admin.history.subtitle")),1)])]),e("div",M,[e("div",U,[e("div",H,[d(t(E),{class:"h-5 w-5 text-gray-400"})]),w(e("input",{"onUpdate:modelValue":i[0]||(i[0]=o=>c.value=o),type:"text",class:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:t(a)("admin.history.search_placeholder")},null,8,O),[[b,c.value]])])]),e("div",R,[e("div",$,[e("div",z,[e("div",A,[e("table",G,[e("thead",J,[e("tr",null,[e("th",K,s(t(a)("admin.history.vehicle")),1),e("th",P,s(t(a)("admin.history.license_plate")),1),e("th",Q,[e("span",W,s(t(a)("common.actions")),1)])])]),e("tbody",X,[h.value?(r(),n("tr",Y,[e("td",Z,s(t(a)("admin.history.loading")),1)])):p().length===0?(r(),n("tr",ee,[e("td",te,s(t(a)("admin.history.no_cars")),1)])):k("",!0),(r(!0),n(C,null,L(p(),o=>(r(),n("tr",{key:o.id},[e("td",se,[e("div",oe,[e("div",ae,[o.image_url?(r(),n("img",{key:0,src:o.image_url,alt:"",class:"h-10 w-10 rounded-full object-cover"},null,8,ie)):(r(),n("div",le,[d(t(B),{class:"h-6 w-6 text-gray-500"})]))]),e("div",ne,[e("div",re,s(o.make)+" "+s(o.model),1),e("div",ce,s(o.year),1)])])]),e("td",de,[e("span",me,s(o.license_plate),1)]),e("td",_e,[d(t(N),{to:{name:"admin.history.show",params:{id:o.id}},class:"text-indigo-600 hover:text-indigo-900 flex items-center justify-end gap-1"},{default:j(()=>[d(t(I),{class:"w-4 h-4"}),V(" "+s(t(a)("admin.history.view_history")),1)]),_:1},8,["to"])])]))),128))])])])])])])]))}});export{ye as default};
